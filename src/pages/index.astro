---
import Base from "@/layouts/Base.astro";
import Banner from "@/layouts/components/Banner.astro";
import LogoCarousel from "@/layouts/components/LogoCarousel.astro";
import KeyFeatures from "@/layouts/components/KeyFeatures.astro";
import type { CollectionEntry } from "astro:content";
import { getEntry } from "astro:content";
import { Image } from "astro:assets";

const homepage = (await getEntry(
  "homepage",
  "-index"
)) as CollectionEntry<"homepage">;

const { banner, key_features } = homepage.data;
---

<Base>
  <Banner banner={banner}>
    <Fragment slot="images">
          <Image
            class="object-contain"
            alt="banner"
            src={banner.image}
            style="max-height: 396px;"
            width={180}
            height={396}
          />
          <Image
            class="absolute bottom-0 right-37"
            src={banner.battery}
            alt="goodwe battery storage"
            width={330}
            height={330}
          />
          <Image
            class="absolute bottom-1 left-34"
            src={banner.charger}
            alt="goodwe battery storage"
            width={330}
            height={330}
          />
    </Fragment>
  </Banner>
  <LogoCarousel />
  
  <KeyFeatures key_features={key_features} />
  <!-- <Service service={service} /> -->
  <!-- <Testimonial testimonial={testimonial} /> -->
  <!-- <Cta /> -->
</Base>
